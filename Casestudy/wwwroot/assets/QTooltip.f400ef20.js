import{c as N,e as ie,f as oe,i as ne,Q as O,g as se,h as ce}from"./QIcon.a78c5dab.js";import{R as re}from"./QBtn.5221da2d.js";import{u as ue,a as de}from"./focus-manager.b4734f87.js";import{c as i,h as c,g as $,z as K,r as A,w as H,o as L,L as j,K as Q,I as he}from"./index.c0e67443.js";import{u as fe,v as I,a as ve,b as me,c as ge,r as M,s as be,p as z,d as ye}from"./position-engine.d2224b83.js";import{u as Se,e as qe,f as ke,h as Te,i as Ce,j as xe,k as we,l as Pe,q as V,m as Oe}from"./QScrollObserver.8917f4b3.js";const _e={xs:8,sm:10,md:14,lg:20,xl:24};var He=N({name:"QChip",props:{...ue,...ie,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:T,emit:r}){const{proxy:{$q:n}}=$(),u=de(e,n),d=oe(e,_e),m=i(()=>e.selected===!0||e.icon!==void 0),l=i(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),h=i(()=>e.iconRemove||n.iconSet.chip.remove),s=i(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),C=i(()=>{const t=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(s.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),S=i(()=>{const t=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},g={...t,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:t,remove:g}});function x(t){t.keyCode===13&&q(t)}function q(t){e.disable||(r("update:selected",!e.selected),r("click",t))}function k(t){(t.keyCode===void 0||t.keyCode===13)&&(K(t),e.disable===!1&&(r("update:modelValue",!1),r("remove")))}function v(){const t=[];s.value===!0&&t.push(c("div",{class:"q-focus-helper"})),m.value===!0&&t.push(c(O,{class:"q-chip__icon q-chip__icon--left",name:l.value}));const g=e.label!==void 0?[c("div",{class:"ellipsis"},[e.label])]:void 0;return t.push(c("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},se(T.default,g))),e.iconRight&&t.push(c(O,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&t.push(c(O,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...S.value.remove,onClick:k,onKeyup:k})),t}return()=>{if(e.modelValue===!1)return;const t={class:C.value,style:d.value};return s.value===!0&&Object.assign(t,S.value.chip,{onClick:q,onKeyup:x}),ne("div",t,v(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[re,e.ripple]])}}}),Le=N({name:"QTooltip",inheritAttrs:!1,props:{...fe,...Se,...qe,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:I},self:{type:String,default:"top middle",validator:I},offset:{type:Array,default:()=>[14,14],validator:ve},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ke],setup(e,{slots:T,emit:r,attrs:n}){let u,d;const m=$(),{proxy:{$q:l}}=m,h=A(null),s=A(!1),C=i(()=>z(e.anchor,l.lang.rtl)),S=i(()=>z(e.self,l.lang.rtl)),x=i(()=>e.persistent!==!0),{registerTick:q,removeTick:k}=Te(),{registerTimeout:v}=Ce(),{transitionProps:t,transitionStyle:g}=xe(e),{localScrollTarget:_,changeScrollEvent:W,unconfigureScrollTarget:U}=me(e,R),{anchorEl:o,canShow:F,anchorEvents:b}=ge({showing:s,configureAnchorEl:te}),{show:G,hide:w}=we({showing:s,canShow:F,handleShow:X,handleHide:Y,hideOnRouteChange:x,processOnMount:!0});Object.assign(b,{delayShow:Z,delayHide:ee});const{showPortal:E,hidePortal:p,renderPortal:J}=Pe(m,h,le,"tooltip");if(l.platform.is.mobile===!0){const a={anchorEl:o,innerRef:h,onClickOutside(f){return w(f),f.target.classList.contains("q-dialog__backdrop")&&K(f),!0}},P=i(()=>e.modelValue===null&&e.persistent!==!0&&s.value===!0);H(P,f=>{(f===!0?ye:M)(a)}),L(()=>{M(a)})}function X(a){E(),q(()=>{d=new MutationObserver(()=>y()),d.observe(h.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),y(),R()}),u===void 0&&(u=H(()=>l.screen.width+"|"+l.screen.height+"|"+e.self+"|"+e.anchor+"|"+l.lang.rtl,y)),v(()=>{E(!0),r("show",a)},e.transitionDuration)}function Y(a){k(),p(),B(),v(()=>{p(!0),r("hide",a)},e.transitionDuration)}function B(){d!==void 0&&(d.disconnect(),d=void 0),u!==void 0&&(u(),u=void 0),U(),j(b,"tooltipTemp")}function y(){be({targetEl:h.value,offset:e.offset,anchorEl:o.value,anchorOrigin:C.value,selfOrigin:S.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Z(a){if(l.platform.is.mobile===!0){V(),document.body.classList.add("non-selectable");const P=o.value,f=["touchmove","touchcancel","touchend","click"].map(D=>[P,D,"delayHide","passiveCapture"]);Q(b,"tooltipTemp",f)}v(()=>{G(a)},e.delay)}function ee(a){l.platform.is.mobile===!0&&(j(b,"tooltipTemp"),V(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),v(()=>{w(a)},e.hideDelay)}function te(){if(e.noParentEvent===!0||o.value===null)return;const a=l.platform.is.mobile===!0?[[o.value,"touchstart","delayShow","passive"]]:[[o.value,"mouseenter","delayShow","passive"],[o.value,"mouseleave","delayHide","passive"]];Q(b,"anchor",a)}function R(){if(o.value!==null||e.scrollTarget!==void 0){_.value=Oe(o.value,e.scrollTarget);const a=e.noParentEvent===!0?y:w;W(_.value,a)}}function ae(){return s.value===!0?c("div",{...n,ref:h,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,g.value],role:"tooltip"},ce(T.default)):null}function le(){return c(he,t.value,ae)}return L(B),Object.assign(m.proxy,{updatePosition:y}),J}});export{He as Q,Le as a};
